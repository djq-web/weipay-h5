import React from 'react';
import classNames from 'classnames';
import PropTypes from 'prop-types';
import './Loading.less';

const renderLogo=(wraper=true,size="medium")=>{
    const clsLogo=classNames({
        "swift_loading_swiftpass":true,
        [size]: true
    })
    const clsLogoWrap=classNames({
        "swift_loading_swiftpass_wrap":true,
        [size]: true
    })
    if(wraper===true){
        return (
            <div className={clsLogoWrap}>
                <svg className="swift_loading_swiftpass" width="118" height="73" viewBox="0 0 118 73">
                    <path className="swift_loading_swiftpass_path" d="M16.925,38.977A7.152,7.152,0,0,0,11.3,41.358c-3.024,3.466-4.826,10.433-.039,18.871,7.2,12.677,20.812,12.512,20.812,12.512C20.668,74,3.244,71.293.523,55.77-2,41.38,9.723,37.122,16.925,38.977ZM93.007,27.619c-1.472-7.116-4.915-14.838-9.785-19.5C81.282,6.26,76.259,2.114,69.272,2.5c-4.588.256-8.065,2.777-9.222,8.375A7.1,7.1,0,0,1,62.7,9.414c7.211-2.278,16.24,5.612,18.842,20.344,1.627,9.205.854,19.927-4.132,27.513a43.192,43.192,0,0,0,5.269,4.238c0.538,0.338,1.047.647,1.533,0.932,0.176,0.1.357,0.195,0.535,0.286C92.911,53.8,95.352,38.931,93.007,27.619ZM60.765,66.693a24.252,24.252,0,0,1-12.716-3.5A40.519,40.519,0,0,1,36.022,50.983,38.767,38.767,0,0,1,29.789,32.56c-0.2-4.138.637-7.405,1.884-9.382a7.605,7.605,0,0,1,5.074-3.569A17.254,17.254,0,0,0,20.5,30.6c-2.192,5.432-2.641,15.13,2.115,24.163,4.655,8.839,12.782,15.354,21.2,17.029A48.6,48.6,0,0,0,67.361,70.77,34.964,34.964,0,0,1,60.765,66.693ZM48.1,52.313a20.3,20.3,0,0,1-3.071,6.626,32.995,32.995,0,0,0,6.516,4.375,28.559,28.559,0,0,0,2.346-3.306A44.052,44.052,0,0,1,48.1,52.313ZM20.123,67.405c1.76,1.238,7.373,4.434,18.247,4.333a41.043,41.043,0,0,1-6.5-3.684A19.555,19.555,0,0,1,20.123,67.405ZM17.475,40.338a6.78,6.78,0,0,0-6.622,4.9A6.183,6.183,0,0,1,17.6,43.924,21.8,21.8,0,0,1,17.475,40.338Zm88.7,27.483c-0.48.3-12.8,4.983-28.109-7.821C70.131,53.366,63,41.687,60.05,32.92c-3.629-10.808-3.073-19.673-.993-24.574C60.69,4.5,63,2.56,65.268,1.686a13.68,13.68,0,0,1,8.472.023A25.549,25.549,0,0,0,64.5.108c-7.556.164-17.354,3.434-21.616,13.213-8.612,19.75,8.434,44.966,20.3,53.24,6.33,4.422,13.877,6.045,20.941,6.245C90.922,72.994,101.321,70.9,106.175,67.822Zm11.051-34.327L104.03,43.75c-0.555.6,0.156,0.88,0.872,1.1,0.738,0.225,1.644.734,1.988,2.572a14.013,14.013,0,0,1-1.554,8.033A18.611,18.611,0,0,1,96,64.334a13.928,13.928,0,0,1-5.014,1.1c5.269,2.551,15.169,3.447,21.459-3.77C116.935,56.515,119,45.287,117.226,33.495ZM38.88,26.574a46.694,46.694,0,0,1,.285-6.4,10.53,10.53,0,0,0-2.283.733c-0.036.016-.072,0.031-0.109,0.049a8.412,8.412,0,0,0-4.831,5.732A7.419,7.419,0,0,1,38.88,26.574Z" />
                </svg>
            </div>
        )
    }
    else{
        return (

            <svg className={clsLogo} width="118" height="73" viewBox="0 0 118 73">
                <path className="swift_loading_swiftpass_path" d="M16.925,38.977A7.152,7.152,0,0,0,11.3,41.358c-3.024,3.466-4.826,10.433-.039,18.871,7.2,12.677,20.812,12.512,20.812,12.512C20.668,74,3.244,71.293.523,55.77-2,41.38,9.723,37.122,16.925,38.977ZM93.007,27.619c-1.472-7.116-4.915-14.838-9.785-19.5C81.282,6.26,76.259,2.114,69.272,2.5c-4.588.256-8.065,2.777-9.222,8.375A7.1,7.1,0,0,1,62.7,9.414c7.211-2.278,16.24,5.612,18.842,20.344,1.627,9.205.854,19.927-4.132,27.513a43.192,43.192,0,0,0,5.269,4.238c0.538,0.338,1.047.647,1.533,0.932,0.176,0.1.357,0.195,0.535,0.286C92.911,53.8,95.352,38.931,93.007,27.619ZM60.765,66.693a24.252,24.252,0,0,1-12.716-3.5A40.519,40.519,0,0,1,36.022,50.983,38.767,38.767,0,0,1,29.789,32.56c-0.2-4.138.637-7.405,1.884-9.382a7.605,7.605,0,0,1,5.074-3.569A17.254,17.254,0,0,0,20.5,30.6c-2.192,5.432-2.641,15.13,2.115,24.163,4.655,8.839,12.782,15.354,21.2,17.029A48.6,48.6,0,0,0,67.361,70.77,34.964,34.964,0,0,1,60.765,66.693ZM48.1,52.313a20.3,20.3,0,0,1-3.071,6.626,32.995,32.995,0,0,0,6.516,4.375,28.559,28.559,0,0,0,2.346-3.306A44.052,44.052,0,0,1,48.1,52.313ZM20.123,67.405c1.76,1.238,7.373,4.434,18.247,4.333a41.043,41.043,0,0,1-6.5-3.684A19.555,19.555,0,0,1,20.123,67.405ZM17.475,40.338a6.78,6.78,0,0,0-6.622,4.9A6.183,6.183,0,0,1,17.6,43.924,21.8,21.8,0,0,1,17.475,40.338Zm88.7,27.483c-0.48.3-12.8,4.983-28.109-7.821C70.131,53.366,63,41.687,60.05,32.92c-3.629-10.808-3.073-19.673-.993-24.574C60.69,4.5,63,2.56,65.268,1.686a13.68,13.68,0,0,1,8.472.023A25.549,25.549,0,0,0,64.5.108c-7.556.164-17.354,3.434-21.616,13.213-8.612,19.75,8.434,44.966,20.3,53.24,6.33,4.422,13.877,6.045,20.941,6.245C90.922,72.994,101.321,70.9,106.175,67.822Zm11.051-34.327L104.03,43.75c-0.555.6,0.156,0.88,0.872,1.1,0.738,0.225,1.644.734,1.988,2.572a14.013,14.013,0,0,1-1.554,8.033A18.611,18.611,0,0,1,96,64.334a13.928,13.928,0,0,1-5.014,1.1c5.269,2.551,15.169,3.447,21.459-3.77C116.935,56.515,119,45.287,117.226,33.495ZM38.88,26.574a46.694,46.694,0,0,1,.285-6.4,10.53,10.53,0,0,0-2.283.733c-0.036.016-.072,0.031-0.109,0.049a8.412,8.412,0,0,0-4.831,5.732A7.419,7.419,0,0,1,38.88,26.574Z" />
            </svg>

        )
    }

}

const Loading = (props) => {
    const {className,model,size,children,show,blur,...others}=props;

    const cls=classNames({
        'swift_loading_wrap':true,
        'nested':children,
        [className]: className
    })

    const clsContainer=classNames({
        'swift_loading_container':true,
        'show':show,
        'blur':blur
    })

    const clsCircle=classNames({
        'swift_loading_circle':true,
        'small':size==='small',
        'medium':size==='medium',
        'large':size==='large',
    })

    //以下将控制loading效果是否显示
    const swift_loading_outer=classNames({
        'swift_loading_outer':true,
        'none':!show
    })

    const hasLogoBackground=children?true:false;

    return(

        <div className={cls} {...others}>
            <div className={swift_loading_outer}>
                { //swiftpass logo
                    model==='swiftpass' &&
                    renderLogo(hasLogoBackground)
                }

                { //4圆点旋转
                    model==='default' &&
                    <ul className={clsCircle}>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                    </ul>
                }
            </div>
            {//如果有子元素，则为nested结构，加遮罩层毛玻璃效果
                children &&
                <div className={clsContainer}>
                    {children}
                </div>
            }


        </div>
    )
}

Loading.propTypes = {
    model:PropTypes.string,
    size: PropTypes.string,
    blur: PropTypes.bool,
    show:PropTypes.bool
}

Loading.defaultProps = {
    model: 'default',
    size:'medium',
    blur:true,
    show:true
}

export default Loading;
